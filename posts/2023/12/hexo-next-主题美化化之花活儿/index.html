<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content="上一篇是一些基础的配置修改，在next.yml中还内置了很多功能，可以自行查看修改。
这篇介绍一些花里胡哨的修改，我们称之为花活儿。
" />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://fuwuqiru.github.io/posts/2023/12/hexo-next-%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96%E5%8C%96%E4%B9%8B%E8%8A%B1%E6%B4%BB%E5%84%BF/" />


    <title>
        
            HEXO-NEXT-主题美化化之花活儿 :: fuwuqiru  — Hello Friend NG Theme
        
    </title>





<link rel="stylesheet" href="https://fuwuqiru.github.io/main.949191c1dcc9c4a887997048b240354e47152016d821198f89448496ba42e491.css" integrity="sha256-lJGRwdzJxKiHmXBIskA1TkcVIBbYIRmPiUSElrpC5JE=">



    <link rel="apple-touch-icon" sizes="180x180" href="https://fuwuqiru.github.io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://fuwuqiru.github.io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://fuwuqiru.github.io/favicon-16x16.png">
    <link rel="manifest" href="https://fuwuqiru.github.io/site.webmanifest">
    <link rel="mask-icon" href="https://fuwuqiru.github.io/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="https://fuwuqiru.github.io/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="HEXO-NEXT-主题美化化之花活儿">
<meta itemprop="description" content="上一篇是一些基础的配置修改，在next.yml中还内置了很多功能，可以自行查看修改。
这篇介绍一些花里胡哨的修改，我们称之为花活儿。"><meta itemprop="datePublished" content="2023-12-29T14:08:18+08:00" />
<meta itemprop="dateModified" content="2023-12-29T14:08:18+08:00" />
<meta itemprop="wordCount" content="1348">
<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="HEXO-NEXT-主题美化化之花活儿"/>
<meta name="twitter:description" content="上一篇是一些基础的配置修改，在next.yml中还内置了很多功能，可以自行查看修改。
这篇介绍一些花里胡哨的修改，我们称之为花活儿。"/>



    <meta property="og:title" content="HEXO-NEXT-主题美化化之花活儿" />
<meta property="og:description" content="上一篇是一些基础的配置修改，在next.yml中还内置了很多功能，可以自行查看修改。
这篇介绍一些花里胡哨的修改，我们称之为花活儿。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://fuwuqiru.github.io/posts/2023/12/hexo-next-%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96%E5%8C%96%E4%B9%8B%E8%8A%B1%E6%B4%BB%E5%84%BF/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-29T14:08:18+08:00" />
<meta property="article:modified_time" content="2023-12-29T14:08:18+08:00" />







    <meta property="article:published_time" content="2023-12-29 14:08:18 &#43;0800 CST" />











    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://fuwuqiru.github.io/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">&gt;</span>
            <span class="logo__text ">
                $ cd /home/</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://fuwuqiru.github.io/about/">About</a></li><li><a href="https://fuwuqiru.github.io/posts/">Posts</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        7 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://fuwuqiru.github.io/posts/2023/12/hexo-next-%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96%E5%8C%96%E4%B9%8B%E8%8A%B1%E6%B4%BB%E5%84%BF/">HEXO-NEXT-主题美化化之花活儿</a>
      </h1>

      

      

      

      <div class="post-content">
        <p>上一篇是一些基础的配置修改，在<code>next.yml</code>中还内置了很多功能，可以自行查看修改。</p>
<p>这篇介绍一些花里胡哨的修改，我们称之为<code>花活儿</code>。</p>
<h3 id="粒子时钟特效">粒子时钟特效</h3>
<p>在<code>hexo/source/_data/sidebar.swig</code>中添加粒子时钟的js代码(若没有则新建文件)</p>
<pre tabindex="0"><code>&lt;div style=&#34;&#34;&gt;
  &lt;canvas id=&#34;canvas&#34; style=&#34;width:60%;&#34;&gt;当前浏览器不支持canvas，请更换浏览器后再试&lt;/canvas&gt;
&lt;/div&gt;
&lt;script&gt;
(function(){

   var digit=
    [
        [
            [0,0,1,1,1,0,0],
            [0,1,1,0,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,0,1,1,0],
            [0,0,1,1,1,0,0]
        ],//0
        [
            [0,0,0,1,1,0,0],
            [0,1,1,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [1,1,1,1,1,1,1]
        ],//1
        [
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,0,1,1,0,0,0],
            [0,1,1,0,0,0,0],
            [1,1,0,0,0,0,0],
            [1,1,0,0,0,1,1],
            [1,1,1,1,1,1,1]
        ],//2
        [
            [1,1,1,1,1,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,0,0,1,1,0],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//3
        [
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,1,0],
            [0,0,1,1,1,1,0],
            [0,1,1,0,1,1,0],
            [1,1,0,0,1,1,0],
            [1,1,1,1,1,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,0,1,1,0],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,1,1]
        ],//4
        [
            [1,1,1,1,1,1,1],
            [1,1,0,0,0,0,0],
            [1,1,0,0,0,0,0],
            [1,1,1,1,1,1,0],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//5
        [
            [0,0,0,0,1,1,0],
            [0,0,1,1,0,0,0],
            [0,1,1,0,0,0,0],
            [1,1,0,0,0,0,0],
            [1,1,0,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//6
        [
            [1,1,1,1,1,1,1],
            [1,1,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,1,1,0,0,0],
            [0,0,1,1,0,0,0],
            [0,0,1,1,0,0,0],
            [0,0,1,1,0,0,0]
        ],//7
        [
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//8
        [
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,1,1,0,0,0,0]
        ],//9
        [
            [0,0,0,0,0,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,0,0,0,0,0]
        ]//:
    ];

var canvas = document.getElementById(&#39;canvas&#39;);

if(canvas.getContext){
    var cxt = canvas.getContext(&#39;2d&#39;);
    //声明canvas的宽高
    var H = 100,W = 700;
    canvas.height = H;
    canvas.width = W;
    cxt.fillStyle = &#39;#f00&#39;;
    cxt.fillRect(10,10,50,50);

    //存储时间数据
    var data = [];
    //存储运动的小球
    var balls = [];
    //设置粒子半径
    var R = canvas.height/20-1;
    (function(){
        var temp = /(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date());
        //存储时间数字，由十位小时、个位小时、冒号、十位分钟、个位分钟、冒号、十位秒钟、个位秒钟这7个数字组成
        data.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);
    })();

    /*生成点阵数字*/
    function renderDigit(index,num){
        for(var i = 0; i &lt; digit[num].length; i++){
            for(var j = 0; j &lt; digit[num][i].length; j++){
                if(digit[num][i][j] == 1){
                    cxt.beginPath();
                    cxt.arc(14*(R+2)*index + j*2*(R+1)+(R+1),i*2*(R+1)+(R+1),R,0,2*Math.PI);
                    cxt.closePath();
                    cxt.fill();
                }
            }
        }
    }

    /*更新时钟*/
    function updateDigitTime(){
        var changeNumArray = [];
        var temp = /(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date());
        var NewData = [];
        NewData.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);
        for(var i = data.length-1; i &gt;=0 ; i--){
            //时间发生变化
            if(NewData[i] !== data[i]){
                //将变化的数字值和在data数组中的索引存储在changeNumArray数组中
                changeNumArray.push(i+&#39;_&#39;+(Number(data[i])+1)%10);
            }
        }
        //增加小球
        for(var i = 0; i&lt; changeNumArray.length; i++){
            addBalls.apply(this,changeNumArray[i].split(&#39;_&#39;));
        }
        data = NewData.concat();
    }

    /*更新小球状态*/
    function updateBalls(){
        for(var i = 0; i &lt; balls.length; i++){
            balls[i].stepY += balls[i].disY;
            balls[i].x += balls[i].stepX;
            balls[i].y += balls[i].stepY;
            if(balls[i].x &gt; W + R || balls[i].y &gt; H + R){
                balls.splice(i,1);
                i--;
            }
        }
    }

    /*增加要运动的小球*/
    function addBalls(index,num){
        var numArray = [1,2,3];
        var colorArray =  [&#34;#3BE&#34;,&#34;#09C&#34;,&#34;#A6C&#34;,&#34;#93C&#34;,&#34;#9C0&#34;,&#34;#690&#34;,&#34;#FB3&#34;,&#34;#F80&#34;,&#34;#F44&#34;,&#34;#C00&#34;];
        for(var i = 0; i &lt; digit[num].length; i++){
            for(var j = 0; j &lt; digit[num][i].length; j++){
                if(digit[num][i][j] == 1){
                    var ball = {
                        x:14*(R+2)*index + j*2*(R+1)+(R+1),
                        y:i*2*(R+1)+(R+1),
                        stepX:Math.floor(Math.random() * 4 -2),
                        stepY:-2*numArray[Math.floor(Math.random()*numArray.length)],
                        color:colorArray[Math.floor(Math.random()*colorArray.length)],
                        disY:1
                    };
                    balls.push(ball);
                }
            }
        }
    }

    /*渲染*/
    function render(){
        //重置画布宽度，达到清空画布的效果
        canvas.height = 100;
        //渲染时钟
        for(var i = 0; i &lt; data.length; i++){
            renderDigit(i,data[i]);
        }
        //渲染小球
        for(var i = 0; i &lt; balls.length; i++){
            cxt.beginPath();
            cxt.arc(balls[i].x,balls[i].y,R,0,2*Math.PI);
            cxt.fillStyle = balls[i].color;
            cxt.closePath();
            cxt.fill();
        }
    }

    clearInterval(oTimer);
    var oTimer = setInterval(function(){
        //更新时钟
        updateDigitTime();
        //更新小球状态
        updateBalls();
        //渲染
        render();
    },50);
}

})();
&lt;/script&gt;
</code></pre><h3 id="hexo加入豆瓣读书页面">Hexo加入豆瓣读书页面</h3>
<p>首先安装模块<a href="https://github.com/mythsman/hexo-douban">hexo_douban</a></p>
<pre tabindex="0"><code>npm install hexo-douban --save
</code></pre><p>将下面的配置写入站点的配置文件<code>config.yml</code>中</p>
<pre tabindex="0"><code>douban:
  user: mythsman
  builtin: false
  book:
    title: &#39;This is my book title&#39;
    quote: &#39;This is my book quote&#39;
  movie:
    title: &#39;This is my movie title&#39;
    quote: &#39;This is my movie quote&#39;
  game:
    title: &#39;This is my game title&#39;
    quote: &#39;This is my game quote&#39;
  timeout: 10000
</code></pre><blockquote>
<ul>
<li>user: 你的豆瓣 ID. 打开豆瓣，登入账户，然后在右上角点击 “个人主页” ，这时候地址栏的 URL 大概是这样：”<code>https://www.douban.com/people/xxxxxx/</code>“，其中的”xxxxxx” 就是你的个人 ID 了。</li>
<li>builtin: 是否将生成页面的功能嵌入 <code>hexo s</code> 和 <code>hexo g</code> 中，默认是 false, 另一可选项为 true (1.x.x 版本新增配置项)。</li>
<li>title: 该页面的标题。</li>
<li>quote: 写在页面开头的一段话，支持 html 语法。</li>
<li>timeout: 爬取数据的超时时间，默认是 10000ms , 如果在使用时发现报了超时的错 (ETIMEOUT) 可以把这个数据设置的大一点。</li>
</ul>
<p>​       如果只想显示某一个页面 (比如 movie)，那就把其他的配置项注释掉即可。</p>
</blockquote>
<p>然后在Git Bash中分别输入以下命令</p>
<pre tabindex="0"><code>hexo clean
hexo douban -bgm
hexo g
hexo s
</code></pre><blockquote>
<p>在<code>hexo douban -bgm</code>命令中，bgm代表的是book、game、movie三个参数，如果只需要其中的一部分就只要带你想要的那些参数</p>
<p>注意：由于<code>hexo douban</code>的简写也是<code>hexo d</code>，与<code>hexo deploy</code>的简写指令<code>hexo d</code>冲突，因此在进行二者部署的时候，都只能打全名而不能打简写模式</p>
</blockquote>
<p>上面都没问题之后，只需要在站点目录下测试<code>http://localhost:4000/books</code>或者<code>https://localhost:4000/movies</code>，如果看到页面就说明成功了。</p>
<p>然后在菜单栏添加按钮，打开<code>next.yml</code>，找到菜单按钮，添加下面内容：</p>
<pre tabindex="0"><code>menu:
  movies: /movies/ || film
  books: /books/ || book
</code></pre><p>然后在<code>language.yml</code>中添加对应的中文参数信息：</p>
<pre tabindex="0"><code>menu:
  movies: 观影
  books: 阅读
</code></pre><p>至此，我们就完成了豆瓣读书页面的添加。</p>
<h3 id="开启评论功能">开启评论功能</h3>
<p>这里使用Valine评论服务，还有很多其他的途径，可以自行选用。</p>
<p>首先注册<a href="https://www.leancloud.cn/">LeanCloud</a>账号。</p>
<p>注册完以后创建一个应用，进入应用—&gt;设置—&gt;应用key，得到appid、appkey。</p>
<blockquote>
<p>注册完以后需要创建一个应用，然后 <strong>进入应用 -&gt; 设置 -&gt; 应用 key</strong>，得到 appid、appkey。</p>
<p>在 <code>LeanCloud -&gt; 存储 -&gt; 创建Class -&gt; 无限制的Class</code>，class 名称为：Comment，这是用来存放评论信息的。</p>
<p>在 <code>LeanCloud-设置</code>，把除<strong>数据存储</strong>外其他选项都关闭。</p>
<p>注意：我们需要在 <code>Leancloud -&gt; 设置 -&gt; 安全中心 -&gt; Web 安全域名</code>把你的域名加进去。</p>
</blockquote>
<p>然后在<code>next.yml</code>中进行配置：</p>
<pre tabindex="0"><code># Valine
# You can get your appid and appkey from https://leancloud.cn
# More info available at https://valine.js.org
valine:
  enable: true # When enable is set to be true, leancloud_visitors is recommended to be closed for the re-initialization problem within different leancloud adk version.
  appid:  # your leancloud application appid  # 填入上一步得到的appid
  appkey:  # your leancloud application appkey  # 以及appkey
  notify: true # mail notifier, See: https://github.com/xCss/Valine/wiki
  verify: false # Verification code
  placeholder: &#39;ヾﾉ≧∀≦)o来啊，快活啊!&#39; # comment box placeholder
  avatar: mm # gravatar style
  guest_info: nick,mail,link # custom comment header
  pageSize: 10 # pagination size
  language: zh-cn # language, available values: en, zh-cn
  visitor: true # leancloud-counter-security is not supported for now. When visitor is set to be true, appid and appkey are recommended to be the same as leancloud_visitors&#39; for counter compatibility. Article reading statistic https://valine.js.org/visitor.html
  comment_count: true # if false, comment count will only be displayed in post page, not in home page
</code></pre><h3 id="开启cdn加速">开启CDN加速</h3>
<p>由于GitHub的服务器在国外，所以可能会出现网站访问速度较慢的问题，这里我们采用配置CDN加速的方法来解决这个问题。</p>
<p>首先注册一个<a href="https://www.cloudflare.com/">Cloudflare</a>账号，然后点击<code>Add site</code>添加你的域名，选择免费的选项，或者也可以选择付费选项，充钱使你变强。</p>
<p>然后点击<code>Scan DNS Records</code>，等待扫描完成。即使没有扫到DNS记录也没有关系，我们可以自己添加，只需要添加如下图所示：</p>
<p><img src="https://raw.githubusercontent.com/fuwuqiru/image/master/images/2020_0720200710220929.png" alt=""></p>
<p>然后Cloudflare会要求将你的DNS服务器替换成他提供的，我们只需要去域名商哪里设置一下即可。</p>
<p>以阿里云为例，进入控制台，进入域名列表，点击管理，在左侧菜单中点击DNS修改，完成修改。</p>
<p>DNS修改完成后可以点击<code>Recheck Nameservers</code>来复查是否正确设置。</p>
<p>然后过个几分钟，显示<code>Great news! Cloudflare is now protecting your site</code>就说明设置成功。</p>
<h3 id="鼠标点击特效">鼠标点击特效</h3>
<p>在<code>_data</code>目录下新建<code>body-end.swig</code>文件，输入以下代码：</p>
<pre tabindex="0"><code>{# 鼠标点击特效 #}
{% if theme.cursor_effect == &#34;fireworks&#34; %}
  &lt;script async src=&#34;/js/cursor/fireworks.js&#34;&gt;&lt;/script&gt;
{% elseif theme.cursor_effect == &#34;explosion&#34; %}
  &lt;canvas class=&#34;fireworks&#34; style=&#34;position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;&#34; &gt;&lt;/canvas&gt;
  &lt;script src=&#34;//cdn.bootcss.com/animejs/2.2.0/anime.min.js&#34;&gt;&lt;/script&gt;
  &lt;script async src=&#34;/js/cursor/explosion.min.js&#34;&gt;&lt;/script&gt;
{% elseif theme.cursor_effect == &#34;love&#34; %}
  &lt;script async src=&#34;/js/cursor/love.min.js&#34;&gt;&lt;/script&gt;
{% elseif theme.cursor_effect == &#34;text&#34; %}
  &lt;script async src=&#34;/js/cursor/text.js&#34;&gt;&lt;/script&gt;
{% endif %}
</code></pre><p>然后在<code>next.yml</code>中取消<code>body-end.swig</code>的注释。</p>
<p>然后在<code>next.yml</code>中增加如下配置项。</p>
<pre tabindex="0"><code># 鼠标点击特效
# mouse click effect: fireworks | explosion | love | text
cursor_effect: fireworks  # 可以在这里切换特效
</code></pre><p>然后在<code>blog/source</code>目录下新建<code>js</code>文件夹。</p>
<p>讲以下四个<code>js</code>文件放入文件夹中。</p>
<p>礼花特效：</p>
<pre tabindex="0"><code>class Circle {
  constructor({ origin, speed, color, angle, context }) {
    this.origin = origin
    this.position = { ...this.origin }
    this.color = color
    this.speed = speed
    this.angle = angle
    this.context = context
    this.renderCount = 0
  }

  draw() {
    this.context.fillStyle = this.color
    this.context.beginPath()
    this.context.arc(this.position.x, this.position.y, 2, 0, Math.PI * 2)
    this.context.fill()
  }

  move() {
    this.position.x = (Math.sin(this.angle) * this.speed) + this.position.x
    this.position.y = (Math.cos(this.angle) * this.speed) + this.position.y + (this.renderCount * 0.3)
    this.renderCount++
  }
}

class Boom {
  constructor ({ origin, context, circleCount = 16, area }) {
    this.origin = origin
    this.context = context
    this.circleCount = circleCount
    this.area = area
    this.stop = false
    this.circles = []
  }

  randomArray(range) {
    const length = range.length
    const randomIndex = Math.floor(length * Math.random())
    return range[randomIndex]
  }

  randomColor() {
    const range = [&#39;8&#39;, &#39;9&#39;, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;]
    return &#39;#&#39; + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range)
  }

  randomRange(start, end) {
    return (end - start) * Math.random() + start
  }

  init() {
    for(let i = 0; i &lt; this.circleCount; i++) {
      const circle = new Circle({
        context: this.context,
        origin: this.origin,
        color: this.randomColor(),
        angle: this.randomRange(Math.PI - 1, Math.PI + 1),
        speed: this.randomRange(1, 6)
      })
      this.circles.push(circle)
    }
  }

  move() {
    this.circles.forEach((circle, index) =&gt; {
      if (circle.position.x &gt; this.area.width || circle.position.y &gt; this.area.height) {
        return this.circles.splice(index, 1)
      }
      circle.move()
    })
    if (this.circles.length == 0) {
      this.stop = true
    }
  }

  draw() {
    this.circles.forEach(circle =&gt; circle.draw())
  }
}

class CursorSpecialEffects {
  constructor() {
    this.computerCanvas = document.createElement(&#39;canvas&#39;)
    this.renderCanvas = document.createElement(&#39;canvas&#39;)

    this.computerContext = this.computerCanvas.getContext(&#39;2d&#39;)
    this.renderContext = this.renderCanvas.getContext(&#39;2d&#39;)

    this.globalWidth = window.innerWidth
    this.globalHeight = window.innerHeight

    this.booms = []
    this.running = false
  }

  handleMouseDown(e) {
    const boom = new Boom({
      origin: { x: e.clientX, y: e.clientY },
      context: this.computerContext,
      area: {
        width: this.globalWidth,
        height: this.globalHeight
      }
    })
    boom.init()
    this.booms.push(boom)
    this.running || this.run()
  }

  handlePageHide() {
    this.booms = []
    this.running = false
  }

  init() {
    const style = this.renderCanvas.style
    style.position = &#39;fixed&#39;
    style.top = style.left = 0
    style.zIndex = &#39;999999999999999999999999999999999999999999&#39;
    style.pointerEvents = &#39;none&#39;

    style.width = this.renderCanvas.width = this.computerCanvas.width = this.globalWidth
    style.height = this.renderCanvas.height = this.computerCanvas.height = this.globalHeight

    document.body.append(this.renderCanvas)

    window.addEventListener(&#39;mousedown&#39;, this.handleMouseDown.bind(this))
    window.addEventListener(&#39;pagehide&#39;, this.handlePageHide.bind(this))
  }

  run() {
    this.running = true
    if (this.booms.length == 0) {
      return this.running = false
    }

    requestAnimationFrame(this.run.bind(this))

    this.computerContext.clearRect(0, 0, this.globalWidth, this.globalHeight)
    this.renderContext.clearRect(0, 0, this.globalWidth, this.globalHeight)

    this.booms.forEach((boom, index) =&gt; {
      if (boom.stop) {
        return this.booms.splice(index, 1)
      }
      boom.move()
      boom.draw()
    })
    this.renderContext.drawImage(this.computerCanvas, 0, 0, this.globalWidth, this.globalHeight)
  }
}

const cursorSpecialEffects = new CursorSpecialEffects()
cursorSpecialEffects.init()
</code></pre><p>爆炸特效：</p>
<pre tabindex="0"><code>&#34;use strict&#34;;function updateCoords(e){pointerX=(e.clientX||e.touches[0].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[0].clientY-canvasEl.getBoundingClientRect().top}function setParticuleDirection(e){var t=anime.random(0,360)*Math.PI/180,a=anime.random(50,180),n=[-1,1][anime.random(0,1)]*a;return{x:e.x+n*Math.cos(t),y:e.y+n*Math.sin(t)}}function createParticule(e,t){var a={};return a.x=e,a.y=t,a.color=colors[anime.random(0,colors.length-1)],a.radius=anime.random(16,32),a.endPos=setParticuleDirection(a),a.draw=function(){ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.fillStyle=a.color,ctx.fill()},a}function createCircle(e,t){var a={};return a.x=e,a.y=t,a.color=&#34;#F00&#34;,a.radius=.1,a.alpha=.5,a.lineWidth=6,a.draw=function(){ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=1},a}function renderParticule(e){for(var t=0;t&lt;e.animatables.length;t++)e.animatables[t].target.draw()}function animateParticules(e,t){for(var a=createCircle(e,t),n=[],i=0;i&lt;numberOfParticules;i++)n.push(createParticule(e,t));anime.timeline().add({targets:n,x:function(e){return e.endPos.x},y:function(e){return e.endPos.y},radius:.1,duration:anime.random(1200,1800),easing:&#34;easeOutExpo&#34;,update:renderParticule}).add({targets:a,radius:anime.random(80,160),lineWidth:0,alpha:{value:0,easing:&#34;linear&#34;,duration:anime.random(600,800)},duration:anime.random(1200,1800),easing:&#34;easeOutExpo&#34;,update:renderParticule,offset:0})}function debounce(e,t){var a;return function(){var n=this,i=arguments;clearTimeout(a),a=setTimeout(function(){e.apply(n,i)},t)}}var canvasEl=document.querySelector(&#34;.fireworks&#34;);if(canvasEl){var ctx=canvasEl.getContext(&#34;2d&#34;),numberOfParticules=30,pointerX=0,pointerY=0,tap=&#34;mousedown&#34;,colors=[&#34;#FF1461&#34;,&#34;#18FF92&#34;,&#34;#5A87FF&#34;,&#34;#FBF38C&#34;],setCanvasSize=debounce(function(){canvasEl.width=2*window.innerWidth,canvasEl.height=2*window.innerHeight,canvasEl.style.width=window.innerWidth+&#34;px&#34;,canvasEl.style.height=window.innerHeight+&#34;px&#34;,canvasEl.getContext(&#34;2d&#34;).scale(2,2)},500),render=anime({duration:1/0,update:function(){ctx.clearRect(0,0,canvasEl.width,canvasEl.height)}});document.addEventListener(tap,function(e){&#34;sidebar&#34;!==e.target.id&amp;&amp;&#34;toggle-sidebar&#34;!==e.target.id&amp;&amp;&#34;A&#34;!==e.target.nodeName&amp;&amp;&#34;IMG&#34;!==e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))},!1),setCanvasSize(),window.addEventListener(&#34;resize&#34;,setCanvasSize,!1)}
</code></pre><p>浮出爱心特效：</p>
<pre tabindex="0"><code>!function(e,t,a){function n(){c(&#34;.heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: &#39;&#39;;width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}&#34;),o(),r()}function r(){for(var e=0;e&lt;d.length;e++)d[e].alpha&lt;=0?(t.body.removeChild(d[e].el),d.splice(e,1)):(d[e].y--,d[e].scale+=.004,d[e].alpha-=.013,d[e].el.style.cssText=&#34;left:&#34;+d[e].x+&#34;px;top:&#34;+d[e].y+&#34;px;opacity:&#34;+d[e].alpha+&#34;;transform:scale(&#34;+d[e].scale+&#34;,&#34;+d[e].scale+&#34;) rotate(45deg);background:&#34;+d[e].color+&#34;;z-index:99999&#34;);requestAnimationFrame(r)}function o(){var t=&#34;function&#34;==typeof e.onclick&amp;&amp;e.onclick;e.onclick=function(e){t&amp;&amp;t(),i(e)}}function i(e){var a=t.createElement(&#34;div&#34;);a.className=&#34;heart&#34;,d.push({el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:s()}),t.body.appendChild(a)}function c(e){var a=t.createElement(&#34;style&#34;);a.type=&#34;text/css&#34;;try{a.appendChild(t.createTextNode(e))}catch(t){a.styleSheet.cssText=e}t.getElementsByTagName(&#34;head&#34;)[0].appendChild(a)}function s(){return&#34;rgb(&#34;+~~(255*Math.random())+&#34;,&#34;+~~(255*Math.random())+&#34;,&#34;+~~(255*Math.random())+&#34;)&#34;}var d=[];e.requestAnimationFrame=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)}}(),n()}(window,document);
</code></pre><p>浮出文字特效：</p>
<pre tabindex="0"><code>var a_idx = 0;
jQuery(document).ready(function($) {
  $(&#34;body&#34;).click(function(e) {
    var a = new Array(&#34;喜欢我&#34;, &#34;不喜欢我&#34;);
    var $i = $(&#34;&lt;span/&gt;&#34;).text(a[a_idx]);
    var x = e.pageX,
    y = e.pageY;
    $i.css({
      &#34;z-index&#34;: 99999,
      &#34;top&#34;: y - 28,
      &#34;left&#34;: x - a[a_idx].length * 8,
      &#34;position&#34;: &#34;absolute&#34;,
      &#34;color&#34;: &#34;#ff7a45&#34;
    });
    $(&#34;body&#34;).append($i);
    $i.animate({
      &#34;top&#34;: y - 180,
      &#34;opacity&#34;: 0
    }, 1500, function() {
      $i.remove();
    });
    a_idx = (a_idx + 1) % a.length;
  });
});
</code></pre>
      </div>
    </article>

    <hr />

    <div class="post-info">
      
      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        1348 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2023-12-29 14:08
        

         
          
        
      </p>
    </div>

    
    <div class="pagination">
        

        <div class="pagination__buttons">
            
            <span class="button previous">
                <a href="https://fuwuqiru.github.io/posts/2023/12/hello-world/">
                    <span class="button__icon">←</span>
                    <span class="button__text">Hello World</span>
                </a>
            </span>
            

            
            <span class="button next">
                <a href="https://fuwuqiru.github.io/posts/2023/12/hexo%E5%BB%BA%E7%AB%99%E6%8C%87%E5%8D%97/">
                    <span class="button__text">HEXO建站指南</span>
                    <span class="button__icon">→</span>
                </a>
            </span>
            
        </div>
    </div>


    

    

    

  </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2023</span>
            <span><a href="https://fuwuqiru.github.io"></a></span>
            <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span>
            <span><a href="https://fuwuqiru.github.io/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
            
        </div>
    </div>
    
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span><span>Made with &#10084; by <a href="https://github.com/rhazdon">Djordje Atlialp</a></span>
        </div>
    </div>
    
</footer>

            
        </div>

        



<script type="text/javascript" src="https://fuwuqiru.github.io/bundle.min.46e438bd2eca7eb6358c700b40f6f56b22ab0b92503ecc11a2d8e4bcc610b8b4da83e5ea3d3e84fdb5f3c3c765744b9f5bbaf43cf5a027910be07ee39a9c12a1.js" integrity="sha512-RuQ4vS7KfrY1jHALQPb1ayKrC5JQPswRotjkvMYQuLTag&#43;XqPT6E/bXzw8dldEufW7r0PPWgJ5EL4H7jmpwSoQ=="></script>




    </body>
</html>
